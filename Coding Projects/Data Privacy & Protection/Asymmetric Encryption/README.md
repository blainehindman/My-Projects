# RSA User Data Management System

This project demonstrates secure management of user data using RSA encryption and a SQLite database. It integrates cryptographic operations, mock data generation, and database interactions in a Python-based system.

---

## **Features**

### **1. RSA Key Management**

- **Generate RSA Keys:**

  - Generates a 2048-bit RSA key pair (public and private keys).
  - Stores keys in the `KeyVault` directory with filenames indicating the user ID.

- **Load RSA Keys:**

  - Retrieves either the public or private key for a specific user from the `KeyVault` directory.

### **2. Encryption and Decryption**

- **Encrypt Data:**

  - Encrypts plaintext data (e.g., email) using a user’s RSA public key and the PKCS1_OAEP padding scheme.

- **Decrypt Data:**

  - Decrypts encrypted data using the corresponding RSA private key.

### **3. Database Management**

- **Mock User Database:**

  - SQLite database (`mock_user_data.db`) to store user information such as name, email, and sensitive data.

- **Populate Database:**

  - Fills the database with mock user data generated by the `Faker` library.

- **CRUD Operations:**

  - Fetch, update, and manage user data in the database.

### **4. Menu-Driven Program**

- **Generate RSA Keys for Users:**

  - Create and save RSA key pairs for a user ID.

- **Encrypt User Email:**

  - Encrypt a user’s email using their public key and update it in the database.

- **Decrypt User Email:**

  - Decrypt a user’s encrypted email using their private key.

- **Populate Mock Database:**

  - Add a specified number of fake user records for testing purposes.

- **View User Emails:**

  - Display all user IDs and their corresponding email (encrypted or plaintext).

- **Exit:**

  - Close the database connection and terminate the program.

---

## **Usage Instructions**

### **Dependencies**

- Python 3.x
- `pycryptodome`: For cryptographic operations.
- `Faker`: For generating mock user data.
- `sqlite3`: For database management.

Install dependencies:

```bash
pip install pycryptodome faker

```

### **Running the Program**

1.  Clone the repository and navigate to the project directory.
2.  Run the program:

    ```bash
    python script_name.py

    ```

3.  Follow the menu prompts to:
    - Generate RSA keys.
    - Encrypt or decrypt user emails.
    - Populate and view the mock database.

---

## **Key Components**

### **Libraries**

- **`Crypto` (from `pycryptodome`)**:
  - Enables RSA encryption and decryption.
- **`Faker`**:
  - Generates realistic mock data (e.g., names, emails, SSNs).
- **`sqlite3`**:
  - Manages a lightweight database for storing user information.
- **`os`**:
  - Handles file paths and directory creation for key storage.

### **Directory Structure**

- **KeyVault**:
  - Stores RSA key files (`private_<user_id>.pem`, `public_<user_id>.pem`).
- **Database**:
  - SQLite database file (`mock_user_data.db`).

---

## **Security Considerations**

- RSA is computationally expensive for large datasets; encrypt only sensitive data (e.g., emails).
- Secure the private key (e.g., use a hardware security module or encrypted storage).
- Avoid storing plaintext passwords; instead, use hashing (e.g., bcrypt).

---

## **Future Improvements**

- Add hashing for sensitive data like passwords.
- Integrate user authentication for key access.
- Expand encryption to include other sensitive fields in the database.

---

## **Acknowledgments**

This project uses `pycryptodome`, `Faker`, and `sqlite3` to demonstrate secure and efficient user data management with RSA encryption.
